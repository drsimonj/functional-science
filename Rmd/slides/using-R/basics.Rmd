---
title: 'Using R: The Basics'
author: "Simon A Jackson"
date: "21 April 2016"
output: ioslides_presentation
---

```{r setup, echo = FALSE, warning = FALSE}
require(knitr, quietly = TRUE)
opts_knit$set(root.dir = '../../../')
```

# Variables

## Setting Variables

You’ll start wanting to save data/information as variables. This is done using `<-`

You can see your variables in the Environment Tab of the RStudio Panel.

```{r}
x <- 2
x
y <- x + 3
y
```

## Types of Variables

```{r echo = FALSE, warning = FALSE}
library(png)
library(grid)
img <- readPNG("Rmd/img/R-data-structure.png")
grid.raster(img)
```

## Examples

```{r}
# A Numeric vector
x <- c(1, 2, 6, 10)
x
# A 2 x 2 String Matrix
m <- c("R", "is", "the", "best")
m <- matrix(m, nrow = 2)
m
```

## Examples

```{r}
# A Data frame
sex <- c("m", "m", "f", "f")
age <- c(50, 30, 22, 45)
height <- c(170, 160, 180, 174)
d <- data.frame(sex, age, height)
d
```

# Functions

## What are Functions?

Functions encapsulate a series of commands, executed top to bottom, left to right, to perform a task and return a result.

`mean()`, for example, is a function. It adds up all the elements of a vector, then divides them by the number of elements, and returns the result.

Why use functions? Some major reasons:

- Help break our task into sub steps
- They’re reusable
- Keep our workspace clean

## Base functions

There are lots of functions already in R. Try these for yourself:

```{r, eval = F}
v <- c(5, 10, 15,20)
mean(v)
sd(v)
sum(v)
range(v)
summary(v)
```

## Custom functions

We can also write our own functions in this format:

```{r, eval = F}
functionName <- function(arg1, arg2, ..., argn) {
  command 1
  command 2
  ...
  command n
  return (result)
}

```

Once it's in our environment, we can call our function like this:

```{r, eval = F}
functionName(arg1, arg2, ..., argn)
```

## Custom Functions

Here's a custom function for `mean()`:

```{r}
cMean <- function(v) {
  s <- sum(v)
  l <- length(v)
  m <- s / l
  return (m)
}

cMean(c(1, 2, 3))
cMean(c(11, 27, 24.32, 89, 102))
```

# The Recycling Rule

